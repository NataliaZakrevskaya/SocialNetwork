"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[725],{2900:function(e,s,t){t.d(s,{Gr:function(){return p},II:function(){return d},gx:function(){return f}});var o=t(1413),n=t(5987),r=(t(2791),t(6139)),i=t(1164),a=t(184),l=["input","meta"],c=["input","meta"],u=function(e){var s=e.meta,t=s.touched,o=s.error,n=e.children,r=t&&o,l=r?i.Z.error:"";return(0,a.jsxs)("div",{className:i.Z.formControl+" "+l,children:[(0,a.jsx)("div",{children:n}),(0,a.jsx)("div",{children:r&&(0,a.jsx)("span",{children:o})})]})},f=function(e){var s=e.input,t=(e.meta,(0,n.Z)(e,l));return(0,a.jsx)(u,(0,o.Z)((0,o.Z)({},e),{},{children:(0,a.jsx)("textarea",(0,o.Z)((0,o.Z)({},s),t))}))},d=function(e){var s=e.input,t=(e.meta,(0,n.Z)(e,c));return(0,a.jsx)(u,(0,o.Z)((0,o.Z)({},e),{},{children:(0,a.jsx)("input",(0,o.Z)((0,o.Z)({},s),t))}))},p=function(e,s,t,n){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,a.jsxs)("div",{children:[(0,a.jsx)(r.Z,(0,o.Z)({placeholder:e,name:s,component:n,validate:t},i))," ",l]})}},4784:function(e,s,t){t.d(s,{p:function(){return i}});t(2791);var o=t.p+"static/media/preloader.f77774137f2b3462da720b53706a898b.svg",n="Preloader_preloader__+hmO9",r=t(184),i=function(){return(0,r.jsx)("div",{className:n,children:(0,r.jsx)("img",{src:o,alt:"preloader"})})}},3725:function(e,s,t){t.r(s),t.d(s,{default:function(){return $}});var o=t(5671),n=t(3144),r=t(136),i=t(5716),a=t(2791),l=t(5861),c=t(885),u=t(7757),f=t.n(u),d={profileInfoBlock:"ProfileInfo_profileInfoBlock__B7UEp",imagesBlock:"ProfileInfo_imagesBlock__FpCie",avatar:"ProfileInfo_avatar__DX-C5",avatarEdit:"ProfileInfo_avatarEdit__TNh3Z",profileInfo:"ProfileInfo_profileInfo__-4Vl6",statusBlock:"ProfileInfo_statusBlock__raKS5",status:"ProfileInfo_status__8YYeU",ownerStatus:"ProfileInfo_ownerStatus__K2McK",lookingJob:"ProfileInfo_lookingJob__g3ke8",profileInfoData:"ProfileInfo_profileInfoData__g-b1V",editButtonContainer:"ProfileInfo_editButtonContainer__1dgIQ",editButton:"ProfileInfo_editButton__sU72N",majorInfo:"ProfileInfo_majorInfo__I59nw",fullName:"ProfileInfo_fullName__ED5Ys",skills:"ProfileInfo_skills__ol57K",contacts:"ProfileInfo_contacts__wrq0x",contact:"ProfileInfo_contact__RIrah"},p=t(184),h=function(e){var s=(0,a.useState)(!1),t=(0,c.Z)(s,2),o=t[0],n=t[1],r=(0,a.useState)(e.status),i=(0,c.Z)(r,2),l=i[0],u=i[1];(0,a.useEffect)((function(){u(e.status)}),[e.status]);return(0,p.jsxs)("div",{className:d.statusBlock,children:[!o&&(0,p.jsxs)("div",{className:d.status,children:[(0,p.jsx)("b",{children:"Status: "}),(0,p.jsx)("span",{className:e.isOwner?d.ownerStatus:"",onClick:function(){e.isOwner&&n(!0)},children:e.status||"No status"})]}),o&&(0,p.jsx)("div",{children:(0,p.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){n(!1),e.updateStatus(l)},autoFocus:!0,value:l})})]})},m=t(704),_=t(4784),j=t(2900),v=t(1164),x="ProfileDataForm_editInfo__QzP6J",g=(0,m.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,t=e.profile,o=e.error;return t?(0,p.jsxs)("form",{onSubmit:s,className:x,children:[o&&(0,p.jsx)("div",{className:v.Z.formSummaryError,children:o}),(0,p.jsx)("b",{children:"Full name "})," ",(0,j.Gr)("Full name","fullName",[],j.II),(0,p.jsx)("b",{children:"My professional skills "}),(0,j.Gr)("My professional skills","lookingForAJobDescription",[],j.gx),(0,p.jsx)("b",{children:"Looking for a job "})," ",(0,j.Gr)("","lookingForAJob",[],j.II,{type:"checkbox"}),(0,p.jsxs)(p.Fragment,{children:[(0,p.jsx)("h3",{children:"Contacts "})," ",Object.keys(t.contacts).map((function(e){return(0,p.jsxs)("div",{children:[(0,p.jsx)("b",{children:e}),(0,j.Gr)(e,"contacts."+e,[],j.II)]},e)}))]}),(0,p.jsx)("button",{children:"save"})]}):(0,p.jsx)(_.p,{})})),P=t(5557),k=function(e){var s=e.contactTitle,t=e.contactValue;return(0,p.jsxs)("div",{className:d.contact,children:[(0,p.jsxs)("b",{children:[s,": "]}),(0,p.jsx)("a",{href:t,rel:"noreferrer",target:"_blank",children:t})]})},I="Profile_profilePage__mVzds",N="Profile_hr__9O3kz",b=function(e){var s=e.profile,t=e.isOwner,o=e.goToEditMode,n=(0,a.useState)(!1),r=(0,c.Z)(n,2),i=r[0],l=r[1];if(!s)return(0,p.jsx)(_.p,{});var u=[];return(0,p.jsxs)("div",{className:d.profileInfoData,children:[(0,p.jsx)("hr",{className:N}),t&&(0,p.jsx)("div",{className:d.editButtonContainer,children:(0,p.jsx)("button",{className:d.editButton,onClick:o,children:"\u270e"})}),(0,p.jsxs)("div",{className:d.majorInfo,children:[(0,p.jsx)("div",{className:d.fullName,children:s.fullName}),s.lookingForAJob&&(0,p.jsxs)("div",{className:d.skills,children:["(",s.lookingForAJobDescription,")"]})]}),(0,p.jsx)("button",{onClick:function(){l(!i)},children:i?"Hide contacts":"Show contacts"}),i&&(0,p.jsxs)("div",{className:d.contacts,children:[u=Object.keys(s.contacts).filter((function(e){return s.contacts[e]})).map((function(e){return(0,p.jsx)(k,{contactTitle:e,contactValue:s.contacts[e]},e)})),u.length<1&&(0,p.jsx)("span",{children:"This User didn't specify any info  \ud83d\ude29"})]})]})},Z=function(e){var s=e.profile,t=e.status,o=e.updateStatus,n=e.isOwner,r=e.savePhoto,i=e.saveProfile,u=(0,a.useState)(!1),m=(0,c.Z)(u,2),_=m[0],j=m[1],v=function(){var e=(0,l.Z)(f().mark((function e(s){return f().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(s);case 2:j(!1);case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,p.jsxs)("div",{className:d.profileInfoBlock,children:[(0,p.jsxs)("div",{className:d.imagesBlock,children:[(0,p.jsx)("img",{className:d.backgroundImg,src:"https://images.pexels.com/photos/989941/pexels-photo-989941.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",alt:"backgroundImg"}),(0,p.jsxs)("div",{className:d.avatar,children:[(0,p.jsx)("img",{src:s&&null!==s.photos.large?s.photos.large:P,alt:"avatar"}),n&&(0,p.jsxs)("div",{className:d.avatarEdit,children:[(0,p.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&r(e.target.files[0])},id:"imageUpload",accept:".png, .jpg, .jpeg"}),(0,p.jsx)("label",{htmlFor:"imageUpload"})]})]})]}),(0,p.jsxs)("div",{className:d.profileInfo,children:[(0,p.jsx)(h,{status:t,isOwner:n,updateStatus:o}),null!==s&&void 0!==s&&s.lookingForAJob?(0,p.jsx)("span",{className:d.lookingJob,children:"Looking for a job!"}):"",_?(0,p.jsx)(g,{initialValues:s,onSubmit:v,profile:s}):(0,p.jsx)(b,{profile:s,isOwner:n,goToEditMode:function(){j(!0)}})]})]})},C=t(364),S="Post_itemBlock__REViE",y="Post_item__Xp8zs",w="Post_userInfoContainer__yH4Hb",B="Post_messageContainer__+VseC",F="Post_likesContainer__bt8mV",O="Post_likeIsActive__I4ird",M=function(e){var s=(0,a.useState)(e.likesCount),t=(0,c.Z)(s,2),o=t[0],n=t[1],r=(0,a.useState)(!1),i=(0,c.Z)(r,2),l=i[0],u=i[1],f=(0,C.v9)((function(e){return e.profilePage.profile}));return(0,p.jsx)("div",{className:S,children:(0,p.jsxs)("div",{className:y,children:[(0,p.jsxs)("div",{className:w,children:[(0,p.jsx)("img",{src:null!==(null===f||void 0===f?void 0:f.photos.large)?null===f||void 0===f?void 0:f.photos.large:P,alt:"img"}),(0,p.jsx)("span",{children:null===f||void 0===f?void 0:f.fullName})]}),(0,p.jsx)("div",{className:B,children:e.message}),(0,p.jsxs)("div",{className:"".concat(F," ").concat(l?O:""),children:[(0,p.jsx)("span",{onClick:function(){n(l?o-1:o+1),u(!l)},children:l?"\u2764\ufe0f":"\ud83d\udc99"}),(0,p.jsx)("span",{children:o})]})]})},e.id)},A=t(5660),E="MyPosts_postsBlock__+ZTjl",T="MyPosts_addPostFormBlock__kj7qn",D="MyPosts_fieldContainer__zmXYM",J="MyPosts_textField__iIweL",U="MyPosts_errorField__KCBFP",V="MyPosts_posts__wumGE",z=function(e){var s=(0,a.useState)(""),t=(0,c.Z)(s,2),o=t[0],n=t[1],r=(0,a.useState)(!1),i=(0,c.Z)(r,2),l=i[0],u=i[1],f=function(s){e.addNewPost(s),n("")};return(0,p.jsxs)("div",{className:T,children:[(0,p.jsxs)("div",{className:D,children:[(0,p.jsx)("textarea",{value:o,placeholder:"Write your message...",className:l?U:J,onChange:function(e){n(e.currentTarget.value),u(!1)}}),l&&(0,p.jsx)("span",{children:"Min length is 2 symbols"})]}),(0,p.jsx)("button",{onClick:function(){o.trim().length>1?f(o):u(!0)},children:"Add post"})]})},G=a.memo((function(){var e=(0,C.I0)(),s=(0,C.v9)((function(e){return e.profilePage})).posts.map((function(e){return(0,p.jsx)(M,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return(0,p.jsxs)("div",{className:E,children:[(0,p.jsx)("h3",{children:"My posts"}),(0,p.jsx)("hr",{className:N}),(0,p.jsx)(z,{addNewPost:function(s){e(A.ap.addPost(s))}}),(0,p.jsx)("div",{className:V,children:s})]})})),K=function(e){return(0,p.jsxs)("div",{className:I,children:[(0,p.jsx)(Z,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),e.isOwner&&(0,p.jsx)(G,{})]})},H=t(7781),L=t(1413),Y=t(6871),q=t(5987),R=["isAuth"],X=function(e){return{isAuth:e.auth.isAuth}};var Q=function(e){(0,r.Z)(t,e);var s=(0,i.Z)(t);function t(){return(0,o.Z)(this,t),s.apply(this,arguments)}return(0,n.Z)(t,[{key:"updateProfile",value:function(){var e=this.props.userId;e||(e=this.props.authorizedUserId),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.userId!==e.userId&&this.updateProfile()}},{key:"render",value:function(){return this.props.profile?(0,p.jsx)(K,{isOwner:!this.props.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}):(0,p.jsx)(_.p,{})}}]),t}(a.Component),$=(0,H.qC)((0,C.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorizedUserId:e.auth.data.id}}),{getProfile:A.Ai,getStatus:A.lR,updateStatus:A.Nf,savePhoto:A.Ju,saveProfile:A.Ii}),(function(e){return function(s){var t=(0,Y.UO)(),o=(0,Y.TH)();return(0,p.jsx)(e,(0,L.Z)((0,L.Z)({},s),{},{userId:t.userId,location:o}))}}),(function(e){return(0,C.$j)(X)((function(s){var t=s.isAuth,o=(0,q.Z)(s,R);return t?(0,p.jsx)(e,(0,L.Z)({},o)):(0,p.jsx)(Y.Fg,{to:"/login"})}))}))(Q)},1164:function(e,s){s.Z={formControl:"FormsControls_formControl__S2iyO",error:"FormsControls_error__NBuHK",formSummaryError:"FormsControls_formSummaryError__LZTot"}},5557:function(e,s,t){e.exports=t.p+"static/media/flat-face-icon-23.00d92f05e4fec182b3f6.png"}}]);
//# sourceMappingURL=725.ab96a6db.chunk.js.map
"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[175],{175:function(s,e,a){a.r(e),a.d(e,{default:function(){return C}});var i=a(885),n=a(2791),l="Dialogs_dialogsPage__UVfNu",t="Dialogs_dialogsPageBlock__OZDBP",o="Dialogs_dialogs__rnZdM",r="Dialogs_dialog__mKYrY",d="Dialogs_activeDialog__0GBt8",c="Dialogs_dialogImg__IxzTb",g="Dialogs_dialogsItems__fojws",_="Dialogs_messagesField__2waU9",u="Dialogs_fieldWithoutMessages__SdlNH",m="Dialogs_message__Nh7CW",h="Dialogs_isAuthMessages__-DSsM",D="Dialogs_addMessageFormBlock__JqSH1",x="Dialogs_addMessageFormContainer__WW9XF",f="Dialogs_addMessageForm__iqx6U",j="Dialogs_textField__Qa3j+",v="Dialogs_errorField__R73-8",N="Dialogs_errorSpan__EwKAD",M=a(184),p=function(s){return(0,M.jsxs)("div",{className:s.id!==s.activeUserID?r:d,onClick:function(){s.showMessages(s.id)},children:[(0,M.jsx)("img",{className:c,src:s.avatar,alt:"dialogProfilePhoto"}),(0,M.jsx)("span",{children:s.name})]})},w=function(s){return(0,M.jsx)("div",{children:(0,M.jsx)("span",{className:s.isAuth?h:m,children:s.message})})},k=function(s){var e=(0,n.useState)(""),a=(0,i.Z)(e,2),l=a[0],t=a[1],o=(0,n.useState)(!1),r=(0,i.Z)(o,2),d=r[0],c=r[1],g=function(e){s.addNewMessage(s.userID,e),t("")};return(0,M.jsx)("div",{className:D,children:(0,M.jsxs)("div",{className:x,children:[(0,M.jsxs)("div",{className:f,children:[(0,M.jsx)("textarea",{value:l,placeholder:"Enter your message...",className:d?v:j,onChange:function(s){t(s.currentTarget.value),c(!1)}}),d&&(0,M.jsx)("span",{className:N,children:"Min length is 1 symbol"})]}),(0,M.jsx)("button",{disabled:!s.userID,onClick:function(){l.length>0?g(l):c(!0)},children:"Send"})]})})},I=a(6871),S=a(364),F=a(3412),C=function(){var s,e=(0,n.useState)(null),a=(0,i.Z)(e,2),r=a[0],d=a[1],c=(0,S.I0)(),m=(0,S.v9)((function(s){return s.auth.isAuth})),h=(0,S.v9)((function(s){return s.messagesPage})),D=function(s){d(s)},x=h.dialogs.map((function(s){return(0,M.jsx)(p,{name:s.name,id:s.id,avatar:s.avatar,showMessages:D,activeUserID:r},s.id)}));null!==r&&(s=h.messages[r].map((function(s){return(0,M.jsx)(w,{id:s.id,message:s.message,isAuth:s.isAuth},s.id)})));return m?(0,M.jsx)("div",{className:l,children:(0,M.jsxs)("div",{className:t,children:[(0,M.jsxs)("div",{className:o,children:[(0,M.jsx)("div",{className:g,children:x}),(0,M.jsx)("div",{className:"".concat(r?_:u),children:r?s:(0,M.jsx)("span",{children:"Select a chat to start messaging"})})]}),(0,M.jsx)(k,{addNewMessage:function(s,e){s&&c(F.sH.sendMessage(s,e))},userID:r})]})}):(0,M.jsx)(I.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=175.4f3d502f.chunk.js.map
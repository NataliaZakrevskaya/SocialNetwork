{"version":3,"file":"static/js/770.4bcfa38f.chunk.js","mappings":"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","sources":["Images/preloader.svg","webpack://social_network_ts/./src/components/Common/Preloader/Preloader.module.css?d1e9","components/Common/Preloader/Preloader.tsx","webpack://social_network_ts/./src/components/Common/Paginator/Paginator.module.css?308c","components/Common/Paginator/Paginator.tsx","webpack://social_network_ts/./src/components/Users/User/User.module.css?cfea","components/Users/User/User.tsx","webpack://social_network_ts/./src/components/Users/Users.module.css?b9d0","Redux/Selectors/users-selectors.tsx","webpack://social_network_ts/./src/components/Users/UsersSearchForm/UsersSearchForm.module.css?3d75","components/Users/UsersSearchForm/UsersSearchForm.tsx","components/Users/Users.tsx","components/Users/UsersPage.tsx"],"sourcesContent":["var _rect, _rect2, _rect3;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgPreloader(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    xmlns: \"http://www.w3.org/2000/svg\",\n    xmlnsXlink: \"http://www.w3.org/1999/xlink\",\n    style: {\n      margin: \"auto\",\n      background: \"rgb(255, 255, 255)\",\n      display: \"block\",\n      shapeRendering: \"auto\"\n    },\n    width: \"250px\",\n    height: \"250px\",\n    viewBox: \"0 0 100 100\",\n    preserveAspectRatio: \"xMidYMid\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _rect || (_rect = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 15.5,\n    y: 46,\n    width: 19,\n    height: 8,\n    fill: \"#101010\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"y\",\n    repeatCount: \"indefinite\",\n    dur: \"0.6451612903225806s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"42.4;46;46\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n    begin: \"-0.12903225806451613s\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    repeatCount: \"indefinite\",\n    dur: \"0.6451612903225806s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"15.2;8;8\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n    begin: \"-0.12903225806451613s\"\n  }))), _rect2 || (_rect2 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 40.5,\n    y: 46,\n    width: 19,\n    height: 8,\n    fill: \"#224634\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"y\",\n    repeatCount: \"indefinite\",\n    dur: \"0.6451612903225806s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"43.3;46;46\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n    begin: \"-0.06451612903225806s\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    repeatCount: \"indefinite\",\n    dur: \"0.6451612903225806s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"13.399999999999999;8;8\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\",\n    begin: \"-0.06451612903225806s\"\n  }))), _rect3 || (_rect3 = /*#__PURE__*/React.createElement(\"rect\", {\n    x: 65.5,\n    y: 46,\n    width: 19,\n    height: 8,\n    fill: \"#2f6144\"\n  }, /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"y\",\n    repeatCount: \"indefinite\",\n    dur: \"0.6451612903225806s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"43.3;46;46\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\"\n  }), /*#__PURE__*/React.createElement(\"animate\", {\n    attributeName: \"height\",\n    repeatCount: \"indefinite\",\n    dur: \"0.6451612903225806s\",\n    calcMode: \"spline\",\n    keyTimes: \"0;0.5;1\",\n    values: \"13.399999999999999;8;8\",\n    keySplines: \"0 0.5 0.5 1;0 0.5 0.5 1\"\n  }))));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgPreloader);\nexport default __webpack_public_path__ + \"static/media/preloader.54754ffb8be834ad251e5ccf17350deb.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"preloader\":\"Preloader_preloader__HOrT6\"};","import React from \"react\";\r\nimport preloader from \"../../../Images/preloader.svg\";\r\nimport s from \"./Preloader.module.css\"\r\n\r\nexport const Preloader = () => {\r\n    return (\r\n        <div className={s.preloader}>\r\n            <img src={preloader}/>\r\n        </div>\r\n    )\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"paginator\":\"Paginator_paginator__vr0UM\",\"selectedPage\":\"Paginator_selectedPage__op-V6\"};","import React, {useState} from 'react'\r\nimport s from \"./Paginator.module.css\";\r\n\r\n\r\nexport const Paginator = ({\r\n                              totalItemsCount,\r\n                              pageSize,\r\n                              currentPage,\r\n                              onPageChanged,\r\n                              portionSize = 10\r\n                          }: PaginatorPropsType) => {\r\n    let pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n    let pages = [];\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i);\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize);\r\n    let [portionNumber, setPortionNumber] = useState(1);\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n    let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {portionNumber > 1 &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}>◀</button>\r\n            }\r\n\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span\r\n                        key={p}\r\n                        className={(currentPage) === p ? s.selectedPage : \"\"}\r\n                        onClick={(e) => {\r\n                            onPageChanged(p)\r\n                        }}\r\n                    >{p}</span>\r\n                })}\r\n            {portionCount > portionNumber &&\r\n                <button onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}>▶</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\ntype PaginatorPropsType = {\r\n    totalItemsCount: number\r\n    pageSize: number\r\n    currentPage: number\r\n    portionSize: number\r\n    onPageChanged: (pageNumber: number) => void\r\n}\r\n","// extracted by mini-css-extract-plugin\nexport default {\"user\":\"User_user__A-L+3\",\"userInfo\":\"User_userInfo__66Bfp\",\"userName\":\"User_userName__zV-cG\",\"userStatus\":\"User_userStatus__FknIt\",\"userPhoto\":\"User_userPhoto__971Bn\",\"unFollowBtn\":\"User_unFollowBtn__r8Ffw\",\"followBtn\":\"User_followBtn__OhMhC\"};","import React from 'react'\r\nimport s from \"./User.module.css\";\r\nimport userPhoto from \"../../../Images/flat-face-icon-23.png\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport {UsersType} from \"../../../Redux/users-reducer\";\r\n\r\nexport const User = ({user, followingInProgress, unfollow, follow}: UsersPropsType) => {\r\n\r\n    return (\r\n\r\n        <div className={s.user}>\r\n\r\n            <div className={s.userInfo}>\r\n                <NavLink to={'/profile/' + user.id}>\r\n                    <img src={user.photos.small !== null ? user.photos.small : userPhoto} className={s.userPhoto}\r\n                         alt={\"userPhoto\"}/>\r\n                </NavLink>\r\n                <span className={s.userName}>{user.name}</span>\r\n            <span className={s.userStatus}>{user.status}</span>\r\n            </div>\r\n\r\n            <div>\r\n                {\r\n                    user.followed\r\n                        ? <button\r\n                            className={s.unFollowBtn}\r\n                            disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                unfollow(user.id)\r\n                            }}>unFollow</button>\r\n\r\n                        : <button\r\n                            className={s.followBtn}\r\n                            disabled={followingInProgress.some(id => id === user.id)}\r\n                            onClick={() => {\r\n                                follow(user.id)\r\n                            }}>Follow</button>\r\n                }\r\n            </div>\r\n\r\n\r\n        </div>\r\n    )\r\n}\r\n\r\n//Types\r\ntype UsersPropsType = {\r\n    user: UsersType\r\n    unfollow: (userID: number) => void\r\n    follow: (userID: number) => void\r\n    followingInProgress: Array<number>\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"usersPage\":\"Users_usersPage__dWc9b\",\"usersContainer\":\"Users_usersContainer__cTge6\",\"users\":\"Users_users__au+hV\"};","import {AppStateType} from \"../redux-store\";\r\nimport {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state: AppStateType) => {\r\n    return state.usersPage.users\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true) // фэйковая фильтрация для примера\r\n})\r\nexport const getPageSize = (state: AppStateType) => {\r\n    return state.usersPage.pageSize;\r\n}\r\nexport const getTotalUsersCount = (state: AppStateType) => {\r\n    return state.usersPage.totalUsersCount;\r\n}\r\nexport const getPage = (state: AppStateType) => {\r\n    return state.usersPage.page;\r\n}\r\nexport const getIsFetching = (state: AppStateType) => {\r\n    return state.usersPage.isFetching;\r\n}\r\nexport const getFollowingInProgress = (state: AppStateType) => {\r\n    return state.usersPage.followingInProgress;\r\n}\r\nexport const getUsersFilter = (state: AppStateType) => {\r\n    return state.usersPage.filter;\r\n}","// extracted by mini-css-extract-plugin\nexport default {\"formContainer\":\"UsersSearchForm_formContainer__gLU6c\",\"searchInput\":\"UsersSearchForm_searchInput__k3NZU\",\"select\":\"UsersSearchForm_select__cHkbo\"};","import {Field, Form, Formik} from \"formik\";\r\nimport React from \"react\";\r\nimport {FilterType} from \"../../../Redux/users-reducer\";\r\nimport {useSelector} from \"react-redux\";\r\nimport {AppStateType} from \"../../../Redux/redux-store\";\r\nimport {getUsersFilter} from \"../../../Redux/Selectors/users-selectors\";\r\nimport s from \"./UsersSearchForm.module.css\"\r\n\r\nconst usersSearchFormValidate = (values: FormType) => {\r\n    const errors = {};\r\n    return errors;\r\n}\r\n\r\nexport const UsersSearchForm: React.FC<PropsType> = React.memo((props) => {\r\n\r\n    const filter = useSelector<AppStateType, FilterType>(getUsersFilter)\r\n\r\n    const submit = (values: FormType, {setSubmitting}: { setSubmitting: (isSubmitting: boolean) => void }) => {\r\n        const filter: FilterType = {\r\n            term: values.term,\r\n            friend: values.friend === \"null\" ? null : values.friend === \"true\"\r\n        }\r\n        props.onFilterChanged(filter)\r\n        setSubmitting(false)\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Formik\r\n                enableReinitialize\r\n                initialValues={{term: filter.term, friend: String(filter.friend) as FriendFormType}}\r\n                validate={usersSearchFormValidate}\r\n                onSubmit={submit}\r\n            >\r\n                {({isSubmitting}) => (\r\n                    <Form className={s.formContainer}>\r\n                        <Field type=\"text\" name=\"term\" placeholder={\"Search 🔎\"} className={s.searchInput}/>\r\n                        <Field name=\"friend\" as=\"select\" className={s.select}>\r\n                            <option value=\"null\">All</option>\r\n                            <option value=\"true\">Followed</option>\r\n                            <option value=\"false\">Unfollowed</option>\r\n                        </Field>\r\n                        <button type=\"submit\" disabled={isSubmitting}>\r\n                            Search\r\n                        </button>\r\n                    </Form>\r\n                )}\r\n            </Formik>\r\n        </div>\r\n    )\r\n})\r\n\r\n// TYPES\r\ntype PropsType = {\r\n    onFilterChanged: (filter: FilterType) => void\r\n}\r\ntype FriendFormType = 'true' | 'false' | 'null'\r\ntype FormType = {\r\n    term: string,\r\n    friend: FriendFormType\r\n}\r\n\r\n\r\n","import React, {FC, useEffect} from 'react'\r\nimport {FilterType, follow, requestUsers, unfollow, UsersType} from \"../../Redux/users-reducer\";\r\nimport {Paginator} from \"../Common/Paginator/Paginator\";\r\nimport {User} from \"./User/User\";\r\nimport s from \"./Users.module.css\"\r\nimport {UsersSearchForm} from \"./UsersSearchForm/UsersSearchForm\";\r\nimport {useDispatch, useSelector} from \"react-redux\";\r\nimport {\r\n    getFollowingInProgress, getIsFetching,\r\n    getPage,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers,\r\n    getUsersFilter\r\n} from \"../../Redux/Selectors/users-selectors\";\r\nimport {useNavigate, useSearchParams} from \"react-router-dom\";\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\n\r\n\r\nexport const Users: FC<UsersPropsType> = React.memo((props) => {\r\n\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const [searchParams, setSearchParams] = useSearchParams()\r\n\r\n    const parsedPage = searchParams.get('page')\r\n    const parsedTerm = searchParams.get('term')\r\n    const parsedFriend = searchParams.get('friend')\r\n\r\n    const isFetching = useSelector(getIsFetching)\r\n    const pageSize = useSelector(getPageSize)\r\n    const users = useSelector(getUsers)\r\n    const totalUsersCount = useSelector(getTotalUsersCount)\r\n    const currentPage = useSelector(getPage)\r\n    const filter = useSelector(getUsersFilter)\r\n    const followingInProgress = useSelector(getFollowingInProgress)\r\n\r\n\r\n    const onPageChanged = (pageNumber: number) => {\r\n        dispatch(requestUsers(pageNumber, pageSize, filter))\r\n    }\r\n    const onFilterChanged = (filter: FilterType) => {\r\n        dispatch(requestUsers(1, pageSize, filter))\r\n    }\r\n    const onFollow = (userID: number) => {\r\n        dispatch(follow(userID))\r\n    }\r\n    const onUnfollow = (userID: number) => {\r\n        dispatch(unfollow(userID))\r\n    }\r\n\r\n    useEffect(() => {\r\n        let actualPage = currentPage\r\n        let actualFilter = filter\r\n\r\n        if (!!parsedPage) actualPage = Number(parsedPage)\r\n        if (!!parsedTerm) actualFilter = {...actualFilter, term: parsedTerm as string}\r\n        switch (parsedFriend) {\r\n            case \"null\" :\r\n                actualFilter = {...actualFilter, friend: null}\r\n                break\r\n            case \"true\" :\r\n                actualFilter = {...actualFilter, friend: true}\r\n                break\r\n            case \"false\" :\r\n                actualFilter = {...actualFilter, friend: false}\r\n                break\r\n        }\r\n\r\n        dispatch(requestUsers(actualPage, pageSize, actualFilter))\r\n    }, [])\r\n\r\n    useEffect(() => {\r\n        const query = {} as queryParamsType\r\n\r\n        if (!!parsedTerm) query.term = parsedTerm\r\n        if (currentPage !== 1) query.page = String(currentPage)\r\n        if (parsedFriend !== null) query.friend = String(parsedFriend)\r\n\r\n        navigate(`?term=${filter.term}&friend=${filter.friend}&page=${currentPage}`)\r\n    }, [filter, currentPage])\r\n\r\n\r\n    return (\r\n\r\n        <div className={s.usersPage}>\r\n\r\n            <UsersSearchForm onFilterChanged={onFilterChanged}/>\r\n\r\n            {isFetching ? <Preloader/>\r\n                :\r\n                (<div className={s.usersContainer}>\r\n                        <div className={s.users}>\r\n                            {users.map(u => <User user={u}\r\n                                                  unfollow={onUnfollow}\r\n                                                  follow={onFollow}\r\n                                                  followingInProgress={followingInProgress}\r\n                                                  key={u.id}/>\r\n                            )}\r\n                        </div>\r\n                    </div>\r\n                )\r\n            }\r\n            <Paginator\r\n                totalItemsCount={totalUsersCount}\r\n                pageSize={pageSize}\r\n                currentPage={currentPage}\r\n                onPageChanged={onPageChanged}\r\n                portionSize={10}\r\n            />\r\n        </div>\r\n    )\r\n})\r\n\r\n\r\n//Types\r\ntype UsersPropsType = {}\r\ntype queryParamsType = {\r\n    term: string\r\n    page: string\r\n    friend: string\r\n}\r\n","import React from 'react'\r\nimport {useSelector} from 'react-redux';\r\nimport {Users} from './Users';\r\nimport {Preloader} from \"../Common/Preloader/Preloader\";\r\nimport {getIsFetching} from \"../../Redux/Selectors/users-selectors\";\r\nimport {AppStateType} from \"../../Redux/redux-store\";\r\nimport {Navigate} from \"react-router-dom\";\r\n\r\n\r\nconst UsersPage: React.FC<UsersPropsType> = (props) => {\r\n\r\n/*const isFetching = useSelector(getIsFetching)*/\r\n    const isAuth = useSelector<AppStateType, boolean>(state => state.auth.isAuth)\r\n\r\n    if (!isAuth) {\r\n        return <Navigate to='/login'/>\r\n    }\r\n    return (\r\n            <>\r\n                {/*{isFetching ? <Preloader/> : null}*/}\r\n                <Users/>\r\n            </>\r\n        )\r\n}\r\n// TYPES\r\ntype UsersPropsType = {}\r\n\r\nexport default UsersPage\r\n\r\n"],"names":["Preloader","className","s","src","preloader","Paginator","totalItemsCount","pageSize","currentPage","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","onClick","filter","p","map","e","User","user","followingInProgress","unfollow","follow","to","id","photos","small","userPhoto","alt","name","status","followed","disabled","some","getUsers","createSelector","state","usersPage","users","u","getPageSize","getTotalUsersCount","totalUsersCount","getPage","page","getIsFetching","isFetching","getFollowingInProgress","getUsersFilter","usersSearchFormValidate","values","UsersSearchForm","React","props","useSelector","enableReinitialize","initialValues","term","friend","String","validate","onSubmit","setSubmitting","onFilterChanged","isSubmitting","type","placeholder","as","value","Users","dispatch","useDispatch","navigate","useNavigate","useSearchParams","searchParams","parsedPage","get","parsedTerm","parsedFriend","onFollow","userID","onUnfollow","useEffect","actualPage","actualFilter","Number","requestUsers","query","pageNumber","auth","isAuth"],"sourceRoot":""}
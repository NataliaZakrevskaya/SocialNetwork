"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[214],{214:function(s,e,a){a.r(e),a.d(e,{default:function(){return I}});var i=a(885),n=a(2791),l=a(6871),t=a(364),o="Dialogs_dialogsPage__c7nRv",c="Dialogs_dialogsPageBlock__P8TiP",r="Dialogs_dialogs__Hqm6l",d="Dialogs_dialogsItems__Zvg5Y",g="Dialogs_dialog__cy492",_="Dialogs_dialogImg__Dz6cG",u="Dialogs_activeDialog__JH3Gv",m="Dialogs_messagesField__HA4bd",h="Dialogs_message__FOFXX",v="Dialogs_isAuthMessages__u7fzS",x="Dialogs_fieldWithoutMessages__btTVf",f="Dialogs_addMessageFormBlock__aMPKW",D="Dialogs_addMessageFormContainer__HS9zB",j="Dialogs_addMessageForm__NNeTk",N="Dialogs_textField__qgxSJ",M="Dialogs_errorField__x3d92",k="Dialogs_errorSpan__6KJXL",p=a(184),F=function(s){return(0,p.jsxs)("div",{className:s.id!==s.activeUserID?g:"".concat(g," ").concat(u),onClick:function(){s.showMessages(s.id)},children:[(0,p.jsx)("img",{className:_,src:s.avatar,alt:"dialogProfilePhoto"}),(0,p.jsx)("span",{children:s.name})]})},P=function(s){return(0,p.jsx)("div",{children:(0,p.jsx)("span",{className:s.isAuth?"".concat(h," ").concat(v):h,children:s.message})})},S=function(s){var e=(0,n.useState)(""),a=(0,i.Z)(e,2),l=a[0],t=a[1],o=(0,n.useState)(!1),c=(0,i.Z)(o,2),r=c[0],d=c[1],g=function(){return l.trim().length>0?_(l):d(!0)},_=function(e){s.addNewMessage(s.userID,e),t("")};return(0,p.jsx)("div",{className:f,children:(0,p.jsxs)("div",{className:D,children:[(0,p.jsxs)("div",{className:j,children:[(0,p.jsx)("textarea",{value:l,placeholder:"Enter your message...",className:r?"".concat(N," ").concat(M):N,onChange:function(s){t(s.currentTarget.value),d(!1)},onKeyPress:function(s){"Enter"===s.code&&g()}}),r&&(0,p.jsx)("span",{className:k,children:"Min length is 1 symbol"})]}),(0,p.jsx)("button",{disabled:!s.userID,onClick:g,children:"Send"})]})})},w=a(3719),I=function(){var s,e=(0,n.useState)(null),a=(0,i.Z)(e,2),g=a[0],_=a[1],u=(0,t.v9)((function(s){return s.auth.isAuth})),h=(0,t.v9)((function(s){return s.messagesPage})),v=(0,t.I0)(),f=function(s){_(s)},D=h.dialogs.map((function(s){return(0,p.jsx)(F,{name:s.name,id:s.id,avatar:s.avatar,showMessages:f,activeUserID:g},s.id)}));null!==g&&(s=h.messages[g].map((function(s){return(0,p.jsx)(P,{id:s.id,message:s.message,isAuth:s.isAuth},s.id)})));return u?(0,p.jsx)("div",{className:o,children:(0,p.jsxs)("div",{className:c,children:[(0,p.jsxs)("div",{className:r,children:[(0,p.jsx)("div",{className:d,children:D}),(0,p.jsx)("div",{className:g?m:x,children:g?s:(0,p.jsx)("span",{children:"Select a chat to start messaging"})})]}),(0,p.jsx)(S,{addNewMessage:function(s,e){s&&v(w.sH.sendMessage(s,e))},userID:g})]})}):(0,p.jsx)(l.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=214.ff5747fc.chunk.js.map
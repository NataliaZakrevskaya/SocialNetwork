"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[770],{3662:function(e,n,r){r.d(n,{p:function(){return o}});r(2791);var s=r.p+"static/media/preloader.54754ffb8be834ad251e5ccf17350deb.svg",t="Preloader_preloader__HOrT6",i=r(184),o=function(){return(0,i.jsx)("div",{className:t,children:(0,i.jsx)("img",{src:s})})}},6770:function(e,n,r){r.r(n),r.d(n,{default:function(){return E}});var s=r(2791),t=r(364),i=r(1413),o=r(885),a=r(385),l="Paginator_paginator__vr0UM",c="Paginator_selectedPage__op-V6",u=r(184),f=function(e){for(var n=e.totalItemsCount,r=e.pageSize,t=e.currentPage,i=e.onPageChanged,a=e.portionSize,f=void 0===a?10:a,d=Math.ceil(n/r),m=[],g=1;g<=d;g++)m.push(g);var h=Math.ceil(d/f),_=(0,s.useState)(1),p=(0,o.Z)(_,2),v=p[0],x=p[1],j=(v-1)*f+1,b=v*f;return(0,u.jsxs)("div",{className:l,children:[v>1&&(0,u.jsx)("button",{onClick:function(){x(v-1)},children:"\u25c0"}),m.filter((function(e){return e>=j&&e<=b})).map((function(e){return(0,u.jsx)("span",{className:t===e?c:"",onClick:function(n){i(e)},children:e},e)})),h>v&&(0,u.jsx)("button",{onClick:function(){x(v+1)},children:"\u25b6"})]})},d="User_user__A-L+3",m="User_userInfo__66Bfp",g="User_userName__zV-cG",h="User_userStatus__FknIt",_="User_userPhoto__971Bn",p="User_unFollowBtn__r8Ffw",v="User_followBtn__OhMhC",x=r(5557),j=r(501),b=function(e){var n=e.user,r=e.followingInProgress,s=e.unfollow,t=e.follow;return(0,u.jsxs)("div",{className:d,children:[(0,u.jsxs)("div",{className:m,children:[(0,u.jsx)(j.OL,{to:"/profile/"+n.id,children:(0,u.jsx)("img",{src:null!==n.photos.small?n.photos.small:x,className:_,alt:"userPhoto"})}),(0,u.jsx)("span",{className:g,children:n.name}),(0,u.jsx)("span",{className:h,children:n.status})]}),(0,u.jsx)("div",{children:n.followed?(0,u.jsx)("button",{className:p,disabled:r.some((function(e){return e===n.id})),onClick:function(){s(n.id)},children:"unFollow"}):(0,u.jsx)("button",{className:v,disabled:r.some((function(e){return e===n.id})),onClick:function(){t(n.id)},children:"Follow"})})]})},N="Users_usersPage__dWc9b",P="Users_usersContainer__cTge6",w="Users_users__au+hV",S=r(5705),U=(0,r(6916).P1)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),C=function(e){return e.usersPage.pageSize},k=function(e){return e.usersPage.totalUsersCount},F=function(e){return e.usersPage.page},Z=function(e){return e.usersPage.isFetching},I=function(e){return e.usersPage.followingInProgress},z=function(e){return e.usersPage.filter},B="UsersSearchForm_formContainer__gLU6c",M="UsersSearchForm_searchInput__k3NZU",V="UsersSearchForm_select__cHkbo",A=function(e){return{}},D=s.memo((function(e){var n=(0,t.v9)(z);return(0,u.jsx)("div",{children:(0,u.jsx)(S.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:A,onSubmit:function(n,r){var s=r.setSubmitting,t={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};e.onFilterChanged(t),s(!1)},children:function(e){var n=e.isSubmitting;return(0,u.jsxs)(S.l0,{className:B,children:[(0,u.jsx)(S.gN,{type:"text",name:"term",placeholder:"Search \ud83d\udd0e",className:M}),(0,u.jsxs)(S.gN,{name:"friend",as:"select",className:V,children:[(0,u.jsx)("option",{value:"null",children:"All"}),(0,u.jsx)("option",{value:"true",children:"Followed"}),(0,u.jsx)("option",{value:"false",children:"Unfollowed"})]}),(0,u.jsx)("button",{type:"submit",disabled:n,children:"Search"})]})}})})})),L=r(6871),O=r(3662),y=s.memo((function(e){var n=(0,t.I0)(),r=(0,L.s0)(),l=(0,j.lr)(),c=(0,o.Z)(l,2),d=c[0],m=(c[1],d.get("page")),g=d.get("term"),h=d.get("friend"),_=(0,t.v9)(Z),p=(0,t.v9)(C),v=(0,t.v9)(U),x=(0,t.v9)(k),S=(0,t.v9)(F),B=(0,t.v9)(z),M=(0,t.v9)(I),V=function(e){n((0,a.ZN)(e))},A=function(e){n((0,a.fv)(e))};return(0,s.useEffect)((function(){var e=S,r=B;switch(m&&(e=Number(m)),g&&(r=(0,i.Z)((0,i.Z)({},r),{},{term:g})),h){case"null":r=(0,i.Z)((0,i.Z)({},r),{},{friend:null});break;case"true":r=(0,i.Z)((0,i.Z)({},r),{},{friend:!0});break;case"false":r=(0,i.Z)((0,i.Z)({},r),{},{friend:!1})}n((0,a.D7)(e,p,r))}),[]),(0,s.useEffect)((function(){var e={};g&&(e.term=g),1!==S&&(e.page=String(S)),null!==h&&(e.friend=String(h)),r("?term=".concat(B.term,"&friend=").concat(B.friend,"&page=").concat(S))}),[B,S]),(0,u.jsxs)("div",{className:N,children:[(0,u.jsx)(D,{onFilterChanged:function(e){n((0,a.D7)(1,p,e))}}),_?(0,u.jsx)(O.p,{}):(0,u.jsx)("div",{className:P,children:(0,u.jsx)("div",{className:w,children:v.map((function(e){return(0,u.jsx)(b,{user:e,unfollow:A,follow:V,followingInProgress:M},e.id)}))})}),(0,u.jsx)(f,{totalItemsCount:x,pageSize:p,currentPage:S,onPageChanged:function(e){n((0,a.D7)(e,p,B))},portionSize:10})]})})),E=function(e){return(0,t.v9)((function(e){return e.auth.isAuth}))?(0,u.jsx)(u.Fragment,{children:(0,u.jsx)(y,{})}):(0,u.jsx)(L.Fg,{to:"/login"})}},5557:function(e,n,r){e.exports=r.p+"static/media/flat-face-icon-23.00d92f05e4fec182b3f6.png"}}]);
//# sourceMappingURL=770.4bcfa38f.chunk.js.map
"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[443],{4784:function(e,n,r){r.d(n,{p:function(){return a}});r(2791);var t=r.p+"static/media/preloader.f77774137f2b3462da720b53706a898b.svg",s="Preloader_preloader__+hmO9",i=r(184),a=function(){return(0,i.jsx)("div",{className:s,children:(0,i.jsx)("img",{src:t,alt:"preloader"})})}},5443:function(e,n,r){r.r(n),r.d(n,{default:function(){return R}});var t=r(2791),s=r(364),i=r(1413),a=r(885),o=r(501),l=r(6871),u=r(3778),c="Paginator_paginator__cqr8x",f="Paginator_selectedPage__mxyoU",d=r(184),m=function(e){for(var n=e.totalItemsCount,r=e.pageSize,s=e.currentPage,i=e.onPageChanged,o=e.portionSize,l=void 0===o?10:o,u=Math.ceil(n/r),m=[],g=1;g<=u;g++)m.push(g);var h=Math.ceil(u/l),_=(0,t.useState)(1),x=(0,a.Z)(_,2),p=x[0],v=x[1],j=(p-1)*l+1,b=p*l;return(0,d.jsxs)("div",{className:c,children:[p>1&&(0,d.jsx)("button",{onClick:function(){v(p-1)},children:"\u25c0"}),m.filter((function(e){return e>=j&&e<=b})).map((function(e){return(0,d.jsx)("span",{className:s===e?f:"",onClick:function(){i(e)},children:e},e)})),h>p&&(0,d.jsx)("button",{onClick:function(){v(p+1)},children:"\u25b6"})]})},g=r(5557),h="User_user__ZfSdP",_="User_userInfo__vXWuJ",x="User_userName__qM5+n",p="User_userStatus__wkrx7",v="User_unFollowBtn__slNkn",j="User_followBtn__GRIdY",b=function(e){var n=e.user,r=e.followingInProgress,t=e.unfollow,s=e.follow;return(0,d.jsxs)("div",{className:h,children:[(0,d.jsxs)("div",{className:_,children:[(0,d.jsx)(o.OL,{to:"/profile/"+n.id,children:(0,d.jsx)("img",{src:null!==n.photos.small?n.photos.small:g,alt:"userPhoto"})}),(0,d.jsx)("span",{className:x,children:n.name}),(0,d.jsx)("span",{className:p,children:n.status})]}),(0,d.jsx)(d.Fragment,{children:n.followed?(0,d.jsx)("button",{className:v,disabled:r.some((function(e){return e===n.id})),onClick:function(){t(n.id)},children:"unfollow"}):(0,d.jsx)("button",{className:j,disabled:r.some((function(e){return e===n.id})),onClick:function(){s(n.id)},children:"follow"})})]})},N=r(5705),P=(0,r(6916).P1)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),w=function(e){return e.usersPage.pageSize},S=function(e){return e.usersPage.totalUsersCount},C=function(e){return e.usersPage.page},U=function(e){return e.usersPage.isFetching},k=function(e){return e.usersPage.followingInProgress},F=function(e){return e.usersPage.filter},Z="UsersSearchForm_formContainer__2hLwR",I="UsersSearchForm_searchInput__UFC2l",z="UsersSearchForm_select__scqA9",D=function(){return{}},M=t.memo((function(e){var n=(0,s.v9)(F);return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(N.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:D,onSubmit:function(n,r){var t=r.setSubmitting,s={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};e.onFilterChanged(s),t(!1)},children:function(e){var n=e.isSubmitting;return(0,d.jsxs)(N.l0,{className:Z,children:[(0,d.jsx)(N.gN,{type:"text",name:"term",placeholder:"Search \ud83d\udd0e",className:I}),(0,d.jsxs)(N.gN,{name:"friend",as:"select",className:z,children:[(0,d.jsx)("option",{value:"null",children:"All"}),(0,d.jsx)("option",{value:"true",children:"Followed"}),(0,d.jsx)("option",{value:"false",children:"Unfollowed"})]}),(0,d.jsx)("button",{type:"submit",disabled:n,children:"Search"})]})}})})})),q=r(4784),y="Users_usersPage__iO7MN",A="Users_usersContainer__D6HQY",B="Users_users__Vt0eB",O=t.memo((function(){var e=(0,s.I0)(),n=(0,l.s0)(),r=(0,o.lr)(),c=(0,a.Z)(r,2),f=c[0],g=(c[1],f.get("page")),h=f.get("term"),_=f.get("friend"),x=(0,s.v9)(U),p=(0,s.v9)(w),v=(0,s.v9)(P),j=(0,s.v9)(S),N=(0,s.v9)(C),Z=(0,s.v9)(F),I=(0,s.v9)(k),z=function(n){e((0,u.ZN)(n))},D=function(n){e((0,u.fv)(n))};return(0,t.useEffect)((function(){var n=N,r=Z;switch(g&&(n=Number(g)),h&&(r=(0,i.Z)((0,i.Z)({},r),{},{term:h})),_){case"null":r=(0,i.Z)((0,i.Z)({},r),{},{friend:null});break;case"true":r=(0,i.Z)((0,i.Z)({},r),{},{friend:!0});break;case"false":r=(0,i.Z)((0,i.Z)({},r),{},{friend:!1})}e((0,u.D7)(n,p,r))}),[]),(0,t.useEffect)((function(){var e={};h&&(e.term=h),1!==N&&(e.page=String(N)),null!==_&&(e.friend=String(_)),n("?term=".concat(Z.term,"&friend=").concat(Z.friend,"&page=").concat(N))}),[Z,N]),(0,d.jsxs)("div",{className:y,children:[(0,d.jsx)(M,{onFilterChanged:function(n){e((0,u.D7)(1,p,n))}}),x?(0,d.jsx)(q.p,{}):(0,d.jsx)("div",{className:A,children:(0,d.jsx)("div",{className:B,children:v.map((function(e){return(0,d.jsx)(b,{user:e,unfollow:D,follow:z,followingInProgress:I},e.id)}))})}),(0,d.jsx)(m,{totalItemsCount:j,pageSize:p,currentPage:N,onPageChanged:function(n){e((0,u.D7)(n,p,Z))},portionSize:10})]})})),R=function(){return(0,s.v9)((function(e){return e.auth.isAuth}))?(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(O,{})}):(0,d.jsx)(l.Fg,{to:"/login"})}},5557:function(e,n,r){e.exports=r.p+"static/media/flat-face-icon-23.00d92f05e4fec182b3f6.png"}}]);
//# sourceMappingURL=443.5687987a.chunk.js.map
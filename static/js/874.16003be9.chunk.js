"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[874],{6125:function(e,s,t){t.d(s,{Gr:function(){return h},II:function(){return p},gx:function(){return f}});var n=t(1413),r=t(5987),o=(t(2791),t(820)),i=t(6139),a=t(184),l=["input","meta","children"],c=["input","meta"],u=["input","meta"],d=function(e){e.input;var s=e.meta,t=s.touched,n=s.error,i=e.children,c=((0,r.Z)(e,l),t&&n),u=c?o.Z.error:"";return(0,a.jsxs)("div",{className:o.Z.formControl+" "+u,children:[(0,a.jsx)("div",{children:i}),(0,a.jsx)("div",{children:c&&(0,a.jsx)("span",{children:n})})]})},f=function(e){var s=e.input,t=(e.meta,(0,r.Z)(e,c));return(0,a.jsx)(d,(0,n.Z)((0,n.Z)({},e),{},{children:(0,a.jsx)("textarea",(0,n.Z)((0,n.Z)({},s),t))}))},p=function(e){var s=e.input,t=(e.meta,(0,r.Z)(e,u));return(0,a.jsx)(d,(0,n.Z)((0,n.Z)({},e),{},{children:(0,a.jsx)("input",(0,n.Z)((0,n.Z)({},s),t))}))},h=function(e,s,t,r){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"";return(0,a.jsxs)("div",{children:[(0,a.jsx)(i.Z,(0,n.Z)({placeholder:e,name:s,component:r,validate:t},o))," ",l]})}},3662:function(e,s,t){t.d(s,{p:function(){return i}});t(2791);var n=t.p+"static/media/preloader.54754ffb8be834ad251e5ccf17350deb.svg",r="Preloader_preloader__HOrT6",o=t(184),i=function(){return(0,o.jsx)("div",{className:r,children:(0,o.jsx)("img",{src:n})})}},7874:function(e,s,t){t.r(s),t.d(s,{default:function(){return Pe}});var n=t(5671),r=t(3144),o=t(136),i=t(5716),a=t(2791),l=t(5861),c=t(885),u=t(7757),d=t.n(u),f="ProfileInfo_profileInfoBlock__wE0z3",p="ProfileInfo_imagesBlock__XpkcG",h="ProfileInfo_backgroundImg__W1Fz8",_="ProfileInfo_avatar__dskF6",m="ProfileInfo_avatarEdit__cOGbx",x="ProfileInfo_profileInfo__r6iBl",j="ProfileInfo_statusBlock__Pd7FO",v="ProfileInfo_status__Fh3np",P="ProfileInfo_ownerStatus__vKoH0",g="ProfileInfo_lookingJob__Bcnk+",N="ProfileInfo_editButtonContainer__HquyV",k="ProfileInfo_editButton__KdMYq",I="ProfileInfo_profileInfoData__ZpKNY",b="ProfileInfo_majorInfo__6+dYW",Z="ProfileInfo_fullName__xReSF",y="ProfileInfo_skills__PT2E3",C="ProfileInfo_showContactsButton__3f2Ht",S="ProfileInfo_contacts__v7yFB",F="ProfileInfo_contact__Pq+gb",w="ProfileInfo_contactLinks__VCUa+",O="ProfileInfo_link__DrqrA",A=t(184),M=function(e){var s=(0,a.useState)(!1),t=(0,c.Z)(s,2),n=t[0],r=t[1],o=(0,a.useState)(e.status),i=(0,c.Z)(o,2),l=i[0],u=i[1];(0,a.useEffect)((function(){u(e.status)}),[e.status]);return(0,A.jsxs)("div",{className:j,children:[!n&&(0,A.jsxs)("div",{className:v,children:[(0,A.jsx)("b",{children:"Status: "}),(0,A.jsx)("span",{className:e.isOwner?P:"",onDoubleClick:function(){e.isOwner&&r(!0)},children:e.status||"No status"})]}),n&&(0,A.jsx)("div",{children:(0,A.jsx)("input",{onChange:function(e){u(e.currentTarget.value)},onBlur:function(){r(!1),e.updateStatus(l)},autoFocus:!0,value:l})})]})},B=t(704),E=t(3662),T=t(6125),V="ProfileDataForm_editInfo__CCA9h",D="ProfileDataForm_contactName__Xy1x6",G=t(820),H=(0,B.Z)({form:"edit-profile"})((function(e){var s=e.handleSubmit,t=e.profile,n=e.error;return t?(0,A.jsxs)("form",{onSubmit:s,className:V,children:[n&&(0,A.jsx)("div",{className:G.Z.formSummaryError,children:n}),(0,A.jsx)("b",{children:"Full name "})," ",(0,T.Gr)("Full name","fullName",[],T.II),(0,A.jsx)("b",{children:"My professional skills "}),(0,T.Gr)("My professional skills","lookingForAJobDescription",[],T.gx),(0,A.jsx)("b",{children:"Looking for a job "})," ",(0,T.Gr)("","lookingForAJob",[],T.II,{type:"checkbox"}),(0,A.jsxs)("div",{children:[(0,A.jsx)("h3",{children:"Contacts "})," ",Object.keys(t.contacts).map((function(e){return(0,A.jsxs)("div",{children:[(0,A.jsx)("b",{className:D,children:e}),(0,T.Gr)(e,"contacts."+e,[],T.II)]},e)}))]}),(0,A.jsx)("div",{children:(0,A.jsx)("button",{children:"save"})})]}):(0,A.jsx)(E.p,{})})),J=t(5557),U="MyPosts_postsBlock__MOVQA",q="MyPosts_hr__LNPid",z="MyPosts_addPostFormBlock__2Z+Ce",Y="MyPosts_fieldContainer__zylf0",L="MyPosts_textField__kaDEY",R="MyPosts_errorField__gVTOP",W="MyPosts_errorSpan__66YrW",X="MyPosts_posts__qcqm9",K=function(e){var s=e.contactTitle,t=e.contactValue;return(0,A.jsxs)("div",{className:F,children:[(0,A.jsxs)("b",{children:[s,": "]}),(0,A.jsx)("a",{href:t,className:O,target:"_blank",children:t})]})},$=function(e){var s=e.profile,t=e.isOwner,n=e.goToEditMode,r=(0,a.useState)(!1),o=(0,c.Z)(r,2),i=o[0],l=o[1];if(!s)return(0,A.jsx)(E.p,{});var u=[];return(0,A.jsxs)("div",{className:I,children:[(0,A.jsx)("hr",{className:q}),t&&(0,A.jsx)("div",{className:N,children:(0,A.jsx)("button",{className:k,onClick:n,children:"\u270e"})}),(0,A.jsxs)("div",{className:b,children:[(0,A.jsx)("div",{className:Z,children:s.fullName}),s.lookingForAJob&&(0,A.jsxs)("div",{className:y,children:["(",s.lookingForAJobDescription,")"]})]}),(0,A.jsx)("button",{className:C,onClick:function(){l(!i)},children:i?"Hide contacts":"Show contacts"}),i&&(0,A.jsx)("div",{className:S,children:(0,A.jsxs)("div",{className:w,children:[u=Object.keys(s.contacts).filter((function(e){return s.contacts[e]})).map((function(e){return(0,A.jsx)(K,{contactTitle:e,contactValue:s.contacts[e]},e)})),u.length<1&&(0,A.jsx)("span",{children:"This User didn't specify any info  \ud83d\ude29"})]})})]})},Q=function(e){var s=e.profile,t=e.status,n=e.updateStatus,r=e.isOwner,o=e.savePhoto,i=e.saveProfile,u=(0,a.useState)(!1),j=(0,c.Z)(u,2),v=j[0],P=j[1],N=function(){var e=(0,l.Z)(d().mark((function e(s){return d().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i(s);case 2:P(!1);case 3:case"end":return e.stop()}}),e)})));return function(s){return e.apply(this,arguments)}}();return(0,A.jsxs)("div",{className:f,children:[(0,A.jsxs)("div",{className:p,children:[(0,A.jsx)("img",{className:h,src:"https://images.pexels.com/photos/989941/pexels-photo-989941.jpeg?auto=compress&cs=tinysrgb&dpr=2&h=650&w=940",alt:"img"}),(0,A.jsxs)("div",{className:_,children:[(0,A.jsx)("img",{src:s&&null!==s.photos.large?s.photos.large:J,alt:"avatar"}),r&&(0,A.jsxs)("div",{className:m,children:[(0,A.jsx)("input",{type:"file",onChange:function(e){e.target.files&&e.target.files.length&&o(e.target.files[0])},id:"imageUpload",accept:".png, .jpg, .jpeg"}),(0,A.jsx)("label",{htmlFor:"imageUpload"})]})]})]}),(0,A.jsxs)("div",{className:x,children:[(0,A.jsx)(M,{status:t,isOwner:r,updateStatus:n}),null!==s&&void 0!==s&&s.lookingForAJob?(0,A.jsx)("span",{className:g,children:"Looking for a job!"}):"",v?(0,A.jsx)(H,{initialValues:s,onSubmit:N,profile:s}):(0,A.jsx)($,{profile:s,isOwner:r,goToEditMode:function(){P(!0)}})]})]})},ee="Profile_profilePageBlock__r6GTp",se=t(364),te="Post_itemBlock__REViE",ne="Post_item__Xp8zs",re="Post_userInfoContainer__yH4Hb",oe="Post_messageContainer__+VseC",ie="Post_likesContainer__bt8mV",ae="Post_likeIsActive__I4ird",le=function(e){var s=(0,a.useState)(e.likesCount),t=(0,c.Z)(s,2),n=t[0],r=t[1],o=(0,a.useState)(!1),i=(0,c.Z)(o,2),l=i[0],u=i[1],d=(0,se.v9)((function(e){return e.profilePage.profile}));return(0,A.jsx)("div",{className:te,children:(0,A.jsxs)("div",{className:ne,children:[(0,A.jsxs)("div",{className:re,children:[(0,A.jsx)("img",{src:null!==(null===d||void 0===d?void 0:d.photos.large)?null===d||void 0===d?void 0:d.photos.large:J,alt:"img"}),(0,A.jsx)("span",{children:null===d||void 0===d?void 0:d.fullName})]}),(0,A.jsx)("div",{className:oe,children:e.message}),(0,A.jsxs)("div",{className:"".concat(ie," ").concat(l?ae:""),children:[(0,A.jsx)("span",{onClick:function(){r(l?n-1:n+1),u(!l)},children:l?"\u2764\ufe0f":"\ud83d\udc99"}),(0,A.jsx)("span",{children:n})]})]})},e.id)},ce=t(7548),ue=function(e){var s=(0,a.useState)(""),t=(0,c.Z)(s,2),n=t[0],r=t[1],o=(0,a.useState)(!1),i=(0,c.Z)(o,2),l=i[0],u=i[1],d=function(s){e.addNewPost(s),r("")};return(0,A.jsxs)("div",{className:z,children:[(0,A.jsxs)("div",{className:Y,children:[(0,A.jsx)("textarea",{value:n,placeholder:"Write your message...",className:l?R:L,onChange:function(e){r(e.currentTarget.value),u(!1)}}),l&&(0,A.jsx)("span",{className:W,children:"Min length is 2 symbols"})]}),(0,A.jsx)("div",{children:(0,A.jsx)("button",{onClick:function(){n.length>1?d(n):u(!0)},children:"Add post"})})]})},de=a.memo((function(){var e=(0,se.I0)(),s=(0,se.v9)((function(e){return e.profilePage})).posts.map((function(e){return(0,A.jsx)(le,{id:e.id,message:e.message,likesCount:e.likesCount},e.id)}));return(0,A.jsxs)("div",{className:U,children:[(0,A.jsx)("h3",{children:"My posts"}),(0,A.jsx)("hr",{className:q}),(0,A.jsx)(ue,{addNewPost:function(s){e(ce.ap.addPost(s))}}),(0,A.jsx)("div",{className:X,children:s})]})})),fe=function(e){return(0,A.jsxs)("div",{className:ee,children:[(0,A.jsx)(Q,{isOwner:e.isOwner,profile:e.profile,status:e.status,updateStatus:e.updateStatus,savePhoto:e.savePhoto,saveProfile:e.saveProfile}),e.isOwner&&(0,A.jsx)(de,{})]})},pe=t(7781),he=t(1413),_e=t(6871),me=t(5987),xe=["isAuth"],je=function(e){return{isAuth:e.auth.isAuth}};var ve=function(e){(0,o.Z)(t,e);var s=(0,i.Z)(t);function t(){return(0,n.Z)(this,t),s.apply(this,arguments)}return(0,r.Z)(t,[{key:"updateProfile",value:function(){var e=this.props.userId;e||(e=this.props.authorizedUserId),this.props.getProfile(e),this.props.getStatus(e)}},{key:"componentDidMount",value:function(){this.updateProfile()}},{key:"componentDidUpdate",value:function(e,s,t){this.props.userId!==e.userId&&this.updateProfile()}},{key:"render",value:function(){return this.props.profile?(0,A.jsx)(fe,{isOwner:!this.props.userId,profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus,savePhoto:this.props.savePhoto,saveProfile:this.props.saveProfile}):(0,A.jsx)(E.p,{})}}]),t}(a.Component),Pe=(0,pe.qC)((0,se.$j)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,isAuth:e.auth.isAuth,authorizedUserId:e.auth.data.id}}),{getProfile:ce.Ai,getStatus:ce.lR,updateStatus:ce.Nf,savePhoto:ce.Ju,saveProfile:ce.Ii}),(function(e){return function(s){var t=(0,_e.UO)(),n=(0,_e.TH)();return(0,A.jsx)(e,(0,he.Z)((0,he.Z)({},s),{},{userId:t.userId,location:n}))}}),(function(e){return(0,se.$j)(je)((function(s){var t=s.isAuth,n=(0,me.Z)(s,xe);return t?(0,A.jsx)(e,(0,he.Z)({},n)):(0,A.jsx)(_e.Fg,{to:"/login"})}))}))(ve)},820:function(e,s){s.Z={formControl:"FormsControls_formControl__sVGXJ",error:"FormsControls_error__aFjGh",formSummaryError:"FormsControls_formSummaryError__RCf8p"}},5557:function(e,s,t){e.exports=t.p+"static/media/flat-face-icon-23.00d92f05e4fec182b3f6.png"}}]);
//# sourceMappingURL=874.16003be9.chunk.js.map
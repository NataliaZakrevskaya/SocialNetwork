"use strict";(self.webpackChunksocial_network_ts=self.webpackChunksocial_network_ts||[]).push([[770],{6770:function(e,n,r){r.r(n),r.d(n,{default:function(){return O}});var s=r(2791),t=r(364),i=r(8683),o=r(885),l=r(385),a="Paginator_paginator__vr0UM",u="Paginator_selectedPage__op-V6",c=r(184),f=function(e){for(var n=e.totalItemsCount,r=e.pageSize,t=e.currentPage,i=e.onPageChanged,l=e.portionSize,f=void 0===l?10:l,d=Math.ceil(n/r),h=[],m=1;m<=d;m++)h.push(m);var g=Math.ceil(d/f),_=(0,s.useState)(1),v=(0,o.Z)(_,2),x=v[0],j=v[1],p=(x-1)*f+1,N=x*f;return(0,c.jsxs)("div",{className:a,children:[x>1&&(0,c.jsx)("button",{onClick:function(){j(x-1)},children:"\u25c0"}),h.filter((function(e){return e>=p&&e<=N})).map((function(e){return(0,c.jsx)("span",{className:t===e?u:"",onClick:function(n){i(e)},children:e},e)})),g>x&&(0,c.jsx)("button",{onClick:function(){j(x+1)},children:"\u25b6"})]})},d="User_user__A-L+3",h="User_userInfo__66Bfp",m="User_userName__zV-cG",g="User_userStatus__FknIt",_="User_userPhoto__971Bn",v="User_unFollowBtn__r8Ffw",x="User_followBtn__OhMhC",j=r(5557),p=r(501),N=function(e){var n=e.user,r=e.followingInProgress,s=e.unfollow,t=e.follow;return(0,c.jsxs)("div",{className:d,children:[(0,c.jsxs)("div",{className:h,children:[(0,c.jsx)(p.OL,{to:"/profile/"+n.id,children:(0,c.jsx)("img",{src:null!==n.photos.small?n.photos.small:j,className:_,alt:"userPhoto"})}),(0,c.jsx)("span",{className:m,children:n.name}),(0,c.jsx)("span",{className:g,children:n.status})]}),(0,c.jsx)("div",{children:n.followed?(0,c.jsx)("button",{className:v,disabled:r.some((function(e){return e===n.id})),onClick:function(){s(n.id)},children:"unFollow"}):(0,c.jsx)("button",{className:x,disabled:r.some((function(e){return e===n.id})),onClick:function(){t(n.id)},children:"Follow"})})]})},P="Users_usersPage__dWc9b",b="Users_usersContainer__cTge6",w="Users_users__au+hV",S=r(5705),U=(0,r(6916).P1)((function(e){return e.usersPage.users}),(function(e){return e.filter((function(e){return!0}))})),C=function(e){return e.usersPage.pageSize},k=function(e){return e.usersPage.totalUsersCount},F=function(e){return e.usersPage.page},Z=function(e){return e.usersPage.isFetching},I=function(e){return e.usersPage.followingInProgress},z=function(e){return e.usersPage.filter},B="UsersSearchForm_formContainer__gLU6c",M="UsersSearchForm_searchInput__k3NZU",V="UsersSearchForm_select__cHkbo",A=function(e){return{}},D=s.memo((function(e){var n=(0,t.v9)(z);return(0,c.jsx)("div",{children:(0,c.jsx)(S.J9,{enableReinitialize:!0,initialValues:{term:n.term,friend:String(n.friend)},validate:A,onSubmit:function(n,r){var s=r.setSubmitting,t={term:n.term,friend:"null"===n.friend?null:"true"===n.friend};e.onFilterChanged(t),s(!1)},children:function(e){var n=e.isSubmitting;return(0,c.jsxs)(S.l0,{className:B,children:[(0,c.jsx)(S.gN,{type:"text",name:"term",placeholder:"Search \ud83d\udd0e",className:M}),(0,c.jsxs)(S.gN,{name:"friend",as:"select",className:V,children:[(0,c.jsx)("option",{value:"null",children:"All"}),(0,c.jsx)("option",{value:"true",children:"Followed"}),(0,c.jsx)("option",{value:"false",children:"Unfollowed"})]}),(0,c.jsx)("button",{type:"submit",disabled:n,children:"Search"})]})}})})})),L=r(6871),y=s.memo((function(e){var n=(0,t.I0)(),r=(0,L.s0)(),a=(0,p.lr)(),u=(0,o.Z)(a,2),d=u[0],h=(u[1],d.get("page")),m=d.get("term"),g=d.get("friend"),_=(0,t.v9)(C),v=(0,t.v9)(U),x=(0,t.v9)(k),j=(0,t.v9)(F),S=(0,t.v9)(z),Z=(0,t.v9)(I),B=function(e){n((0,l.ZN)(e))},M=function(e){n((0,l.fv)(e))};return(0,s.useEffect)((function(){var e=j,r=S;switch(h&&(e=Number(h)),m&&(r=(0,i.Z)((0,i.Z)({},r),{},{term:m})),g){case"null":r=(0,i.Z)((0,i.Z)({},r),{},{friend:null});break;case"true":r=(0,i.Z)((0,i.Z)({},r),{},{friend:!0});break;case"false":r=(0,i.Z)((0,i.Z)({},r),{},{friend:!1})}n((0,l.D7)(e,_,r))}),[]),(0,s.useEffect)((function(){var e={};m&&(e.term=m),1!==j&&(e.page=String(j)),null!==g&&(e.friend=String(g)),r("?term=".concat(S.term,"&friend=").concat(S.friend,"&page=").concat(j))}),[S,j]),(0,c.jsxs)("div",{className:P,children:[(0,c.jsx)(D,{onFilterChanged:function(e){n((0,l.D7)(1,_,e))}}),(0,c.jsx)("div",{className:b,children:(0,c.jsx)("div",{className:w,children:v.map((function(e){return(0,c.jsx)(N,{user:e,unfollow:M,follow:B,followingInProgress:Z},e.id)}))})}),(0,c.jsx)(f,{totalItemsCount:x,pageSize:_,currentPage:j,onPageChanged:function(e){n((0,l.D7)(e,_,S))},portionSize:10})]})})),E=r(6674),O=function(e){var n=(0,t.v9)(Z);return(0,t.v9)((function(e){return e.auth.isAuth}))?(0,c.jsxs)(c.Fragment,{children:[n?(0,c.jsx)(E.p,{}):null,(0,c.jsx)(y,{})]}):(0,c.jsx)(L.Fg,{to:"/login"})}}}]);
//# sourceMappingURL=770.50ac0b24.chunk.js.map